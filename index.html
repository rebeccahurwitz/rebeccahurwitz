<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Rebecca Hurwitz BST260 Final Project</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top">BST260 Final Project</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#intro">Intro</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#data">Data</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#conclusion">Conclusion</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Masthead Avatar Image-->
                <!-- img class="masthead-avatar mb-5" src="assets/img/1660021399916.jpeg" alt="..." / -->
                <!-- Masthead Heading-->
                <h1 class="masthead-heading text-uppercase mb-0">Analyzing and Predicting the Academic Performance of High School Students in Portugal </h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-0">Rebecca Hurwitz</p>
            </div>
        </header>
        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="intro">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Intro</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <div class="text-center mt-4">
                    Various factors affect a student’s ability to succeed in school, ranging from study time to family situations to community influences to health. For this BST 260 Final Project, I aimed to use data science to predict Portuguese high school students’ final grades based on various factors in their lives. The grading scale in Portugal differs from that of the US – using a scale of 0 – 20, rather than letter grades, we can observe a more precise measurement of performance (“The Portuguese Grading System”, 2022).
                    <br /><br />
                    The dataset I used for this project is from UC Irvine’s Machine Learning Repository. It consists of 649 high school students in Portugal with 33 attributes each, acquired via school reports and questionnaires. Some particular variables of interest, which I used to explore students’ final grade in their Portuguese class, were weekly hours spent studying (categorical), age (continuous), sex (categorical – binary), mother’s education (categorical), father’s education (categorical), quality of family relationships (categorical), hours of free time per week (categorical), and current health status (categorical). The first facet-wrap plot below outlines some exploratory data analysis I completed using linear regression to get a better understanding of the data. The y-axis (final grade) ranges from 0 (fail) to 20 (excellent) and is the same for each covariate, while the x-axis varies by covariate. 
                                                           <br /><br /> <img src="assets/img/IMG_2688.jpeg" width="85%" height="85%">
                                                           <br /><br />
                                                           While in a perfect world, every child would have a level playing field and have equal opportunities to succeed in school, we can see here that factors outside of a student’s control can contribute to their performance in an academic setting. This plot piqued my interest and prompted me to further explore the data by conducting two major analyses: fitting linear models and conducting random forest machine learning. I chose linear modeling because of the vast number of attributes (33) – I believe that linearly modeling these would be informative because we can see the effects of each attribute. Next, I chose random forest machine learning because I have never learned about it before BST 260, and really wanted to challenge myself by applying this technique. Random forest also is a very sound way to parse through a lot of data due to our many covariates, and perhaps improve prediction performance by reducing instability by averaging multiple decision trees (2).
                                                           <br /><br />

                </div>
            </div>
        </section>
        <!-- About Section-->
        <section class="page-section bg-primary text-white mb-0" id="data">
            <div class="container">
                <!-- About Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-white">Data</h2>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- About Section Content-->
               
                <!-- About Section Button-->
                <div class="text-center mt-4">
                    <h5>Linear Modeling:</h5>
                To begin the process of linear modeling, I conducted analysis to ensure that my data met the LINE assumptions (Linearity, Independence, Normality, and Equal Variance (Homoscedasticity). Via a QQ plot and a histogram, I verified these assumptions, confirming that the normal approximation was useful in this case (Cite Rafa Book, Chapter 18). Starting with a very big model (as seen below), I then used forwards model selection to identify important and relevant covariates. 
                 <br /><br />
                Looking at the significance of these covariates, I moved to simplify my model by eliminating variables either not of interest or not deemed significant (p-value > 0.05), including age, family size, address, guardian, parental status, travel time, free time, going out. Next, because we know that association is not causation, it was critical to analyze potential confounding variables. I used both the classical (via DAGs) and the statistical definitions (via the 10% rule) to determine that none of my variables of interest were confounding, and thus, we do not see any effect modification either. For this analysis, I started with a basic model looking at the association between study time and final grade, then created 6 linear models to assess the other covariates for confounding. Next, I then used forward selection to create 4 more models, adding in each covariate, to determine the best model based on AIC and adjusted R^2 value. 
                 <br /><br />
                Here, I found the best model to be Model 7, which included the covariates studytime, sex, Medu, Fedu , famrel, freetime, and health to have both the highest adjusted R^2 at 0.1395 and the lowest AIC at 3276.391. Note that this is a low R^2, which is not ideal, but is the best one I got with this data.  I dug deeper by trying a quadratic model next, followed by a logistic model, neither of which had a lower AIC or higher adjusted R^2 value. Thus, of these thirteen models, Model 7, as seen below, had the strongest fit:
                <br /><br /><img src="assets/img/IMG_1657.jpeg"  width="55%" height="55%">
<br /><br /><br />
<h5>Random Forest:</h5>
I next built a random forest models with 10-fold cross validation to predict G3 final grades using the original covariates of interest. I minimized my node size, and to avoid overfitting, I chose 75 trees. I chose 1000 as my sampling number as my sample size was only 649. I arrived at an RMSE of 3.36698, meaning that my final predictions were on average, 3.37 grade points away from the real data.
                    <br /><br /> <img src="assets/img/IMG_8837.jpg" width="65%" height="65%">
                    </a>
                </div>
            </div>
        </section>
        <!-- Contact Section-->
        <section class="page-section" id="conclusion">
            <div class="container">
                <!-- Contact Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Conclusion</h2>
                
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>

                <div class="text-center mt-4">
                    The purpose of this project was to see if it was possible to predict final grades of high school students in Portugal using various aspects of their lives. In order to explore this question, I delved deep into data analysis as I learned this semester in BST 260. I performed exploratory data analysis, fit 12 linear models, and created a random forest model. While the adjusted R^2 of the linear model was low and the RMSE of the random forest was a bit high, it is important to note that there is still statistical power in these results. 
                <br /><br />
                    My final models were limited in their power to predict final grades, but they do provide some insight into the great importance of high study time, parents’ education, and having positive family relationships. Future analyses should include more students over a long period of time, collecting additional information and variables to make the next models more accurate. 
                      <br /><br />    
                      
                      
                </div>
            </div>
        </section>
        
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Rebecca Hurwitz &copy 2022 | rebeccahurwitz@hsph.harvard.edu</small></div>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
